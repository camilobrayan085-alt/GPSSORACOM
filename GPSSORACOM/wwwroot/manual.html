<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enviar Datos a GPS</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

    <div class="container py-4">
        <h2 class="text-center mb-4">📝 Enviar datos manuales</h2>

        <div class="card p-4">
            <label>SIM ID</label>
            <input class="form-control mb-2" id="simId">

            <label>Latitud</label>
            <input class="form-control mb-2" id="lat">

            <label>Longitud</label>
            <input class="form-control mb-2" id="lng">

            <button class="btn btn-success mt-3" onclick="enviar()">Enviar</button>
        </div>

        <p id="res" class="text-center mt-3"></p>
    </div>

    <script>
    function enviar() {
        const data = {
            simId: document.getElementById("simId").value,
            latitude: parseFloat(document.getElementById("lat").value),
            longitude: parseFloat(document.getElementById("lng").value)
        };

        fetch("/api/gps", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(data)
        })
        .then(r => r.ok ? "Datos guardados correctamente" : "Error al enviar los datos")
        .then(msg => document.getElementById("res").innerText = msg)
        .catch(err => {
            console.error(err);
            document.getElementById("res").innerText = "Error al enviar";
        });
    }
    </script>

</body>
</html>
